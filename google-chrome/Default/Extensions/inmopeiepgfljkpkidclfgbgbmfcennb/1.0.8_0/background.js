!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=15)}([function(e,t,r){var n=r(9),o=r(10),s=o;s.v1=n,s.v4=o,e.exports=s},function(e,t){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);e.exports=function(){return r(n),n}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,o=r;return[o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]]].join("")}},function(e,t,r){"use strict";const n=r(6),o=r(7),s=r(8);function i(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function a(e,t){return t.decode?o(e):e}function c(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function u(e){const t=(e=c(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function l(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function d(e,t){const r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,n)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return(e,r,n)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"comma":return(e,t,r)=>{const n="string"==typeof t&&t.split("").indexOf(",")>-1?t.split(","):t;r[e]=n};default:return(e,t,r)=>{void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",parseNumbers:!1,parseBooleans:!1},t)),n=Object.create(null);if("string"!=typeof e)return n;if(!(e=e.trim().replace(/^[?#&]/,"")))return n;for(const o of e.split("&")){let[e,i]=s(t.decode?o.replace(/\+/g," "):o,"=");i=void 0===i?null:a(i,t),r(a(e,t),i,n)}for(const e of Object.keys(n)){const r=n[e];if("object"==typeof r&&null!==r)for(const e of Object.keys(r))r[e]=l(r[e],t);else n[e]=l(r,t)}return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce((e,t)=>{const r=n[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(r):e[t]=r,e},Object.create(null))}t.extract=u,t.parse=d,t.stringify=((e,t)=>{if(!e)return"";const r=function(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{const o=r.length;return void 0===n||e.skipNull&&null===n?r:null===n?[...r,[i(t,e),"[",o,"]"].join("")]:[...r,[i(t,e),"[",i(o,e),"]=",i(n,e)].join("")]};case"bracket":return t=>(r,n)=>void 0===n||e.skipNull&&null===n?r:null===n?[...r,[i(t,e),"[]"].join("")]:[...r,[i(t,e),"[]=",i(n,e)].join("")];case"comma":return t=>(r,n)=>null==n||0===n.length?r:0===r.length?[[i(t,e),"=",i(n,e)].join("")]:[[r,i(n,e)].join(",")];default:return t=>(r,n)=>void 0===n||e.skipNull&&null===n?r:null===n?[...r,i(t,e)]:[...r,[i(t,e),"=",i(n,e)].join("")]}}(t=Object.assign({encode:!0,strict:!0,arrayFormat:"none"},t)),n=Object.assign({},e);if(t.skipNull)for(const e of Object.keys(n))void 0!==n[e]&&null!==n[e]||delete n[e];const o=Object.keys(n);return!1!==t.sort&&o.sort(t.sort),o.map(n=>{const o=e[n];return void 0===o?"":null===o?i(n,t):Array.isArray(o)?o.reduce(r(n),[]).join("&"):i(n,t)+"="+i(o,t)}).filter(e=>e.length>0).join("&")}),t.parseUrl=((e,t)=>({url:c(e).split("?")[0]||"",query:d(u(e),t)}))},function(e,t,r){"use strict";(function(t){var n=r(12),o=r(13),s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,i=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,a=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function c(e){return(e||"").toString().replace(a,"")}var u=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],l={hash:1,query:1};function d(e){var r,n=("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{}).location||{},o={},i=typeof(e=e||n);if("blob:"===e.protocol)o=new p(unescape(e.pathname),{});else if("string"===i)for(r in o=new p(e,{}),l)delete o[r];else if("object"===i){for(r in e)r in l||(o[r]=e[r]);void 0===o.slashes&&(o.slashes=s.test(e.href))}return o}function f(e){e=c(e);var t=i.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function p(e,t,r){if(e=c(e),!(this instanceof p))return new p(e,t,r);var s,i,a,l,h,m,g=u.slice(),v=typeof t,b=this,y=0;for("object"!==v&&"string"!==v&&(r=t,t=null),r&&"function"!=typeof r&&(r=o.parse),t=d(t),s=!(i=f(e||"")).protocol&&!i.slashes,b.slashes=i.slashes||s&&t.slashes,b.protocol=i.protocol||t.protocol||"",e=i.rest,i.slashes||(g[3]=[/(.*)/,"pathname"]);y<g.length;y++)"function"!=typeof(l=g[y])?(a=l[0],m=l[1],a!=a?b[m]=e:"string"==typeof a?~(h=e.indexOf(a))&&("number"==typeof l[2]?(b[m]=e.slice(0,h),e=e.slice(h+l[2])):(b[m]=e.slice(h),e=e.slice(0,h))):(h=a.exec(e))&&(b[m]=h[1],e=e.slice(0,h.index)),b[m]=b[m]||s&&l[3]&&t[m]||"",l[4]&&(b[m]=b[m].toLowerCase())):e=l(e);r&&(b.query=r(b.query)),s&&t.slashes&&"/"!==b.pathname.charAt(0)&&(""!==b.pathname||""!==t.pathname)&&(b.pathname=function(e,t){if(""===e)return t;for(var r=(t||"/").split("/").slice(0,-1).concat(e.split("/")),n=r.length,o=r[n-1],s=!1,i=0;n--;)"."===r[n]?r.splice(n,1):".."===r[n]?(r.splice(n,1),i++):i&&(0===n&&(s=!0),r.splice(n,1),i--);return s&&r.unshift(""),"."!==o&&".."!==o||r.push(""),r.join("/")}(b.pathname,t.pathname)),n(b.port,b.protocol)||(b.host=b.hostname,b.port=""),b.username=b.password="",b.auth&&(l=b.auth.split(":"),b.username=l[0]||"",b.password=l[1]||""),b.origin=b.protocol&&b.host&&"file:"!==b.protocol?b.protocol+"//"+b.host:"null",b.href=b.toString()}p.prototype={set:function(e,t,r){var s=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(r||o.parse)(t)),s[e]=t;break;case"port":s[e]=t,n(t,s.protocol)?t&&(s.host=s.hostname+":"+t):(s.host=s.hostname,s[e]="");break;case"hostname":s[e]=t,s.port&&(t+=":"+s.port),s.host=t;break;case"host":s[e]=t,/:\d+$/.test(t)?(t=t.split(":"),s.port=t.pop(),s.hostname=t.join(":")):(s.hostname=t,s.port="");break;case"protocol":s.protocol=t.toLowerCase(),s.slashes=!r;break;case"pathname":case"hash":if(t){var i="pathname"===e?"/":"#";s[e]=t.charAt(0)!==i?i+t:t}else s[e]=t;break;default:s[e]=t}for(var a=0;a<u.length;a++){var c=u[a];c[4]&&(s[c[1]]=s[c[1]].toLowerCase())}return s.origin=s.protocol&&s.host&&"file:"!==s.protocol?s.protocol+"//"+s.host:"null",s.href=s.toString(),s},toString:function(e){e&&"function"==typeof e||(e=o.stringify);var t,r=this,n=r.protocol;n&&":"!==n.charAt(n.length-1)&&(n+=":");var s=n+(r.slashes?"//":"");return r.username&&(s+=r.username,r.password&&(s+=":"+r.password),s+="@"),s+=r.host+r.pathname,(t="object"==typeof r.query?e(r.query):r.query)&&(s+="?"!==t.charAt(0)?"?"+t:t),r.hash&&(s+=r.hash),s}},p.extractProtocol=f,p.location=d,p.trimLeft=c,p.qs=o,e.exports=p}).call(this,r(11))},function(e,t,r){e.exports=r(14)},function(e,t,r){"use strict";e.exports=(e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},function(e,t,r){"use strict";var n=new RegExp("%[a-f0-9]{2}","gi"),o=new RegExp("(%[a-f0-9]{2})+","gi");function s(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],s(r),s(n))}function i(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(n),r=1;r<t.length;r++)t=(e=s(t,r).join("")).match(n);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},r=o.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(e){var n=i(r[0]);n!==r[0]&&(t[r[0]]=n)}r=o.exec(e)}t["%C2"]="�";for(var s=Object.keys(t),a=0;a<s.length;a++){var c=s[a];e=e.replace(new RegExp(c,"g"),t[c])}return e}(e)}}},function(e,t,r){"use strict";e.exports=((e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]})},function(e,t,r){var n,o,s=r(1),i=r(2),a=0,c=0;e.exports=function(e,t,r){var u=t&&r||0,l=t||[],d=(e=e||{}).node||n,f=void 0!==e.clockseq?e.clockseq:o;if(null==d||null==f){var p=s();null==d&&(d=n=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=o=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:c+1,g=h-a+(m-c)/1e4;if(g<0&&void 0===e.clockseq&&(f=f+1&16383),(g<0||h>a)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=h,c=m,o=f;var v=(1e4*(268435455&(h+=122192928e5))+m)%4294967296;l[u++]=v>>>24&255,l[u++]=v>>>16&255,l[u++]=v>>>8&255,l[u++]=255&v;var b=h/4294967296*1e4&268435455;l[u++]=b>>>8&255,l[u++]=255&b,l[u++]=b>>>24&15|16,l[u++]=b>>>16&255,l[u++]=f>>>8|128,l[u++]=255&f;for(var y=0;y<6;++y)l[u+y]=d[y];return t||i(l)}},function(e,t,r){var n=r(1),o=r(2);e.exports=function(e,t,r){var s=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||n)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var a=0;a<16;++a)t[s+a]=i[a];return t||o(i)}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},function(e,t,r){"use strict";var n,o=Object.prototype.hasOwnProperty;function s(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}t.stringify=function(e,t){t=t||"";var r,s,i=[];for(s in"string"!=typeof t&&(t="?"),e)if(o.call(e,s)){if((r=e[s])||null!==r&&r!==n&&!isNaN(r)||(r=""),s=encodeURIComponent(s),r=encodeURIComponent(r),null===s||null===r)continue;i.push(s+"="+r)}return i.length?t+i.join("&"):""},t.parse=function(e){for(var t,r=/([^=?&]+)=?([^&]*)/g,n={};t=r.exec(e);){var o=s(t[1]),i=s(t[2]);null===o||null===i||o in n||(n[o]=i)}return n}},function(e,t,r){"use strict";r.r(t),t.default={storage:{local:{get:(...e)=>window.chrome.storage.local.get(...e),set:(...e)=>window.chrome.storage.local.set(...e),remove:(...e)=>window.chrome.storage.local.remove(...e)}},runtime:{sendMessage:(...e)=>window.chrome.runtime.sendMessage(...e),getURL:(...e)=>window.chrome.runtime.getURL(...e),onMessage:{addListener:(...e)=>window.chrome.runtime.onMessage.addListener(...e)}}}},function(e,t,r){"use strict";r.r(t);var n=r(3),o=r.n(n),s=r(0),i=r.n(s),a=[{id:i.a.v4(),name:"iPhone XR, XS Max",width:414,height:896,visible:!0,userAgent:"iPhone"},{id:i.a.v4(),name:"iPhone XS, X",width:375,height:812,visible:!0,userAgent:"iPhone"},{id:i.a.v4(),name:"iPhone 8 Plus, 7 Plus, 6S Plus",width:414,height:736,visible:!1,userAgent:"iPhone"},{id:i.a.v4(),name:"iPhone 8, 7, 6S, 6",width:375,height:667,visible:!1,userAgent:"iPhone"},{id:i.a.v4(),name:"Galaxy S9 Plus, S8 Plus",width:412,height:846,visible:!0,userAgent:"Samsung Phone"},{id:i.a.v4(),name:"Galaxy S9, Note 8, S8",width:360,height:740,visible:!0,userAgent:"Samsung Phone"},{id:i.a.v4(),name:"Pixel 3, 3 XL",width:393,height:786,visible:!0,userAgent:"Google Pixel"},{id:i.a.v4(),name:"Medium Screen",width:1024,height:800,visible:!0,userAgent:"Google Chrome"},{id:i.a.v4(),name:"Large Screen",width:1280,height:800,visible:!0,userAgent:"Google Chrome"}];r(4),r(5);const c=e=>{let t;return t=(t=(t=e.indexOf("//")>-1?e.split("/")[2]:e.split("/")[0]).split(":")[0]).split("?")[0]},u={},l=e=>{let t={},r=!1;console.log("starting ..."),chrome.tabs.executeScript(e.id,{code:"window.location.reload()"});const n=c(e.url),s=function(e){const t=e.responseHeaders;return 0===e.frameId?{responseHeaders:t}:{responseHeaders:t.filter(e=>{const t=e.name.toLowerCase();return-1===["x-frame-options","content-security-policy","frame-options"].indexOf(t)})}},i=function(t){if(e.id===t.tabId&&"about:blank"!==t.url)return 0===t.frameId?(console.log("main frame",r),!1===r?(r=!0,void(e=>{chrome.tabs.executeScript(e.id,{file:"init.js"}),chrome.tabs.insertCSS(e.id,{file:"static/css/main.css"}),chrome.tabs.executeScript(e.id,{file:"static/js/main.js"})})(e)):void 0):void(c(t.url)===n&&chrome.tabs.executeScript(t.tabId,{file:"syncedEvents.js",frameId:t.frameId,runAt:"document_start"}))},l=function(e){0===e.frameId&&!0===r&&(chrome.webRequest.onHeadersReceived.removeListener(s),chrome.webRequest.onBeforeSendHeaders.removeListener(p),chrome.webNavigation.onCompleted.removeListener(i),chrome.webNavigation.onCommitted.removeListener(l),chrome.webRequest.onBeforeRequest.removeListener(d),chrome.runtime.onMessage.removeListener(f))},d=e=>{if(0===e.frameId)return{cancel:!0}},f=function(r,n,o){if(n.tab.id===e.id){switch(r.message){case"GET_TAB_URL":o({tabUrl:e.url});break;case"CAPTURE_SCREEN":chrome.tabs.captureVisibleTab(null,{},function(e){console.log("image captured",e),o({image:e})});break;case"SET_FRAME_ID":u[n.frameId]=r.frameId,chrome.tabs.sendMessage(e.id,{message:"SET_FRAME",screenId:n.frameId,tabId:e.id,chromeFrameId:r.frameId},()=>{console.log("done ..")});break;case"LOAD_STATE":t=r.state;break;default:o({})}return!0}},p=function(r){if(r.tabId!==e.id||0===e.frameId)return{requestHeaders:r.requestHeaders};if(!u[r.frameId]){const e=o.a.parseUrl(r.url);e&&e.query&&e.query._RSSID_&&(u[r.frameId]=e.query._RSSID_)}const n=u[r.frameId],s=t.screens.find(e=>e.id===n);if(!n||!s)return{requestHeaders:r.requestHeaders};let i=s.userAgent;const c=(t&&t.userAgents?t.userAgents:a).find(e=>e.name===i);return c&&(i=c.value),r.requestHeaders=r.requestHeaders.filter(e=>"User-Agent"!==e.name),r.requestHeaders.push({name:"User-Agent",value:i}),{requestHeaders:r.requestHeaders}};chrome.webRequest.onHeadersReceived.addListener(s,{urls:["<all_urls>"],types:["sub_frame"],tabId:e.id},["blocking","responseHeaders","extraHeaders"]),chrome.webRequest.onBeforeRequest.addListener(d,{urls:["<all_urls>"],types:["stylesheet","script","image","font","object","xmlhttprequest","ping","csp_report","media","websocket"],tabId:e.id},["blocking"]),chrome.webNavigation.onCompleted.addListener(i),chrome.webNavigation.onCommitted.addListener(l),chrome.runtime.onMessage.addListener(f),chrome.webRequest.onBeforeSendHeaders.addListener(p,{urls:["<all_urls>"],types:["sub_frame"],tabId:e.id},["blocking","requestHeaders"])};chrome.browserAction.onClicked.addListener(e=>{l(e)})}]);